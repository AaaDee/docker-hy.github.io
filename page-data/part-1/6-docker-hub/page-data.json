{
    "componentChunkName": "component---src-templates-course-content-template-js",
    "path": "/part-1/6-docker-hub",
    "result": {"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As we've already seen it should be possible to containerize almost any project. As we are in between Dev and Ops let's pretend again that some developer teammates of ours did an application with a README that instructs what to install and how to run the application. Now we as the container experts can containerize it in seconds. Open this "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications/tree/main/rails-example-project","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/docker-hy/material-applications/tree/main/rails-example-project"}]},{"type":"text","value":" project and read through the README and think about how to transform it into a Dockerfile. Thanks to the README we should be able to decipher what we will need to do even if we have no clue about the language or technology!"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We will need to clone the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"repository"}]},{"type":"text","value":", which you may have already done. After the project is done, let's start with a Dockerfile. We know that we need to install Ruby and whatever dependencies it had. Let's place the Dockerfile in the project root."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Dockerfile"}]}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"dockerfile"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# We need ruby 3.1.0. I found this from Docker Hub"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" ruby:3.1.0"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXPOSE"}]},{"type":"text","value":" 3000"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WORKDIR"}]},{"type":"text","value":" /usr/src/app"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ok these are the basics, we have FROM a Ruby version, EXPOSE 3000 was told at the bottom of the README and WORKDIR /usr/src/app is the convention."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The next are told to us by the README. We won't need to copy anything from outside of the container to run these:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"dockerfile"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Install the correct bundler version"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" gem install bundler:2.3.3"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Copy the files required for dependencies to be installed"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"COPY"}]},{"type":"text","value":" Gemfile* ./"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Install all dependencies"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" bundle install"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here I do a quick trick to separate installing dependencies from the part where we copy the source code in. The COPY will copy both Gemfile and Gemfile.lock to the current directory. This will help us by caching the dependency layers if we ever need to make changes to the source code. The same kind of caching trick works in many other languages or frameworks, such as Node.js."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And finally, we copy the project and follow the instructions in the README:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"dockerfile"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-dockerfile"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Copy all of the source code"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"COPY"}]},{"type":"text","value":" . ."}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# We pick the production mode since we have no intention of developing the software inside the container."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Run database migrations by following instructions from README"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" rails db:migrate RAILS_ENV=production"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Precompile assets by following instructions from README"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"RUN"}]},{"type":"text","value":" rake assets:precompile"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# And finally the command to run the application"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","instruction"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"CMD"}]},{"type":"text","value":" ["},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"rails\""}]},{"type":"text","value":", "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"s\""}]},{"type":"text","value":", "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-e\""}]},{"type":"text","value":", "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"production\""}]},{"type":"text","value":"]"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ok. Let's see how well monkeying the README worked for us: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"docker build . -t rails-project && docker run -p 3000:3000 rails-project"}]},{"type":"text","value":". After a while of waiting, the application starts in port 3000 in production mode... unless you have a Mac with M1 or M2 processor."}]},{"type":"element","tagName":"text-box","properties":{"name":"Building the image with a more recent Mac","variant":"hint"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you have a more recent Mac that has the "},{"type":"element","tagName":"a","properties":{"href":"https://support.apple.com/en-us/HT211814","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"M1 or M2"}]},{"type":"text","value":" processor, building the image fails:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" ERROR "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"7"}]},{"type":"text","value":"/8"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" RUN rails db:migrate "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"RAILS_ENV"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"production\n------\n "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"7"}]},{"type":"text","value":"/8"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" RUN rails db:migrate "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"RAILS_ENV"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"production:\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"#11 1.142 rails aborted!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"#11 1.142 LoadError: cannot load such file -- nokogiri"}]}]}]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"This can be fixed by changing the following line in the file "},{"type":"element","tagName":"i","properties":{},"children":[{"type":"text","value":"Gemfile.lock"}]}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"nokogiri "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1.13"}]},{"type":"text","value":".1-x86_64-darwin"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"to the form:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"nokogiri "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1.14"}]},{"type":"text","value":".2-arm64-darwin"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"The reason for the problem is that the file Gemfile.lock that defines the "},{"type":"element","tagName":"i","properties":{},"children":[{"type":"text","value":"exact"}]},{"type":"text","value":" versions of the installed libraries (or Gems in Ruby lingo) is generated with a Linux that has an Intel processor. The Gem\n"},{"type":"element","tagName":"a","properties":{"href":"https://nokogiri.org/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Nokogiri"}]},{"type":"text","value":" has different versions for Intel and Apple M1/M2 processors and to get the right version of the Gem to a more recent Mac, it is now just easiest to make a change in the file Gemfile.lock."}]}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 1.11: Spring"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create a Dockerfile for an old Java Spring project that can be found from the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications/tree/main/spring-example-project","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"course repository"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The setup should be straightforward with the README instructions. Tips to get you started:"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use "},{"type":"element","tagName":"a","properties":{"href":"https://hub.docker.com/_/openjdk","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"openjdk image"}]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"FROM openjdk:_tag_"}]},{"type":"text","value":" to get Java instead of installing it manually. Pick the tag by using the README and Docker Hub page."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You've completed the exercise when you see a 'Success' message in your browser."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Submit the Dockerfile you used to run the container."}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following three exercises will start a larger project that we will configure in parts 2 and 3. They will require you to use everything you've learned up until now. If you need to modify a Dockerfile in some later exercises, feel free to do it on top of the Dockerfiles you create here."}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 1.12: Hello, frontend!"},"children":[{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"b","properties":{"style":"color:firebrick;"},"children":[{"type":"text","value":"This exercise is mandatory"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A good developer creates well-written READMEs. Such that they can be used to create Dockerfiles with ease."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Clone, fork or download the project from\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications/tree/main/example-frontend","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/docker-hy/material-applications/tree/main/example-frontend"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create a Dockerfile for the project (example-frontend) and give a command so that the project runs in a Docker container with port 5000\nexposed and published so when you start the container and navigate to "},{"type":"element","tagName":"a","properties":{"href":"http://localhost:5000","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://localhost:5000"}]},{"type":"text","value":"\nyou will see message if you're successful."}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"note that the port 5000 is reserved in the more recent OSX versions (Monterey, Big Sur), so you have to use some other host port"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Submit the Dockerfile."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"As in other exercises, do not alter the code of the project"}]}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TIP: The project has install instructions in README."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TIP: Note that the app starts to accept connections when \"Accepting connections at "},{"type":"element","tagName":"a","properties":{"href":"http://localhost:5000","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://localhost:5000"}]},{"type":"text","value":"\" has been printed to the screen, this takes a few seconds"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TIP: You do not have to install anything new outside containers."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 1.13: Hello, backend!"},"children":[{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"b","properties":{"style":"color:firebrick;"},"children":[{"type":"text","value":"This exercise is mandatory"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Clone, fork or download a project from\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications/tree/main/example-backend","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://github.com/docker-hy/material-applications/tree/main/example-backend"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create a Dockerfile for the project (example-backend). Start the container with port 8080 published."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When you start the container and navigate to "},{"type":"element","tagName":"a","properties":{"href":"http://localhost:8080/ping","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"http://localhost:8080/ping"}]},{"type":"text","value":" you should get a \"pong\" as response."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Submit the Dockerfile and the command used."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Do not alter the code of the project"}]}]}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 1.14: Environment"},"children":[{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"b","properties":{"style":"color:firebrick;"},"children":[{"type":"text","value":"This exercise is mandatory"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Start both frontend-example and backend-example with correct ports exposed and add ENV to Dockerfile with necessary\ninformation from both READMEs\n("},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications/tree/main/example-frontend","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"front"}]},{"type":"text","value":", "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/docker-hy/material-applications/tree/main/example-backend","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"back"}]},{"type":"text","value":")."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ignore the backend configurations until frontend sends requests to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"_backend_url_/ping"}]},{"type":"text","value":" when you press the button."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You know that the configuration is ready when the button for 1.14 of frontend-example responds and turns green."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Do not alter the code of either project"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Submit the edited Dockerfiles and commands used to run."}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 386px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/10822d585cb1b30aca4211724b49de12/7bc0b/back-and-front.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 36.52173913043478%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVQoz01Ry6sScRj9LrcWXSNsexfFLCobiNy0LLpMi/6BNj241Ko/oEIXtgilZQbZSjcigoquFDcuBkVnfICvcRwfM75mxkFHFzkqFx1/8ROCPjicw4Fzvg8+SCQSr6PR6IPdbgdOp/NUEIT7k8nEruu6XdO0xwzDnLlcrtPlcgn1ev1SVVWkquqVqqomxnQ6NRVFMXVdN1utlgkAcAsAzgDght1ut9A07S6Xy7/z+fz3TCbzzeFwnFutVgtCCJLJ5BfDMNBoNEKNRgM1m01Ur9ePWK1WSJIkBARBWCiKug4AVpvNhsshHo+TpVLpg6Io71Op1BOCIG7iQpqmX8myrBmGwc1mM2GxWAiY5/O5sN1uhWq1KkClUvnFsuxLHACAE8z5fP5OrVZ7J0nSm3Q6TWAPw+123/Z6vY+CweDDcDhMBoNBEnMoFCL9fj/p8XhIKBQKdxmGseJAJBJ52mg0fvA8/1UUxU/FYvFzp9Nxtdvtnz6f714sFvuo6zra7/d/9vv92jTNNeZ/muf5NeRyOQgEAscLyuXyea/Xu5Ak6Zksyxe9Xu851v1+/wVFUdd4nr/cbrdos9mYg8EAPwcpioI0TUN4sAccx50kEoljIcuy0O12QRRFkGUZOp0OSJIE4/H4uJhhmLccx+GSq+FwePgfiqIcstns4S94234WmHvPyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/10822d585cb1b30aca4211724b49de12/a0b58/back-and-front.webp 230w","/static/10822d585cb1b30aca4211724b49de12/23cef/back-and-front.webp 386w"],"sizes":"(max-width: 386px) 100vw, 386px","type":"image/webp"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/10822d585cb1b30aca4211724b49de12/81c8e/back-and-front.png 230w","/static/10822d585cb1b30aca4211724b49de12/7bc0b/back-and-front.png 386w"],"sizes":"(max-width: 386px) 100vw, 386px","type":"image/png"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/10822d585cb1b30aca4211724b49de12/7bc0b/back-and-front.png","alt":"back and front","title":"back and front","loading":"lazy","decoding":"async","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The frontend will first talk to your browser. Then the code will be executed from your browser and that will send a message to backend."}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 401px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/bfd5bf56a308827bc81baedb83919214/9144d/about-connection-front-back.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 52.60869565217391%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABg0lEQVQoz32TV4sCQRCE9///Gt8Mr4oiGFgUc84551TH1zLioXcNzczOzFZVV8946/Vas9lM3W5XnU5Hk8lEy+VSi8XCxvF4rFarZfv9fl/NZlPlcln1el2VSkW1Wk3tdlvz+VyBQECeJF0uF9soFovabrd6j9PpZGuPx0Pn89nAo9Go0um0YrGYMpmMkRLBYPAJ+C0AIPb7vY7Ho803m40KhYIpQ2G1WjWS3W5n+5FIRB7q+OE9r9erAcKM6kQiYUC9Xs+AKJnM5/NWgSMMh8PyUHA4HGzRjXg1HA7NRzxrNBqmZDAYGChKsQH/AcS/FyATGoECgIjVamVloJK96XRqpd/vd8vb7WZVMCLC+R4KheRxAPZ3r0ajkXWc7vm+r1QqZUohyuVyKpVK5iN2UAX5Uoh8V4IrwzHiL1cKlZABEo/HlUwmlc1mrcOsI+ZXyf91GY8oy1nBNwIgQRnnPgBZ/JaEa5QDBwyLmDsyHsAH4F8KAeP6uNdDg1Dn0n1zjqb8AN3nPiDCOYdNAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/bfd5bf56a308827bc81baedb83919214/a0b58/about-connection-front-back.webp 230w","/static/bfd5bf56a308827bc81baedb83919214/b3c31/about-connection-front-back.webp 401w"],"sizes":"(max-width: 401px) 100vw, 401px","type":"image/webp"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/bfd5bf56a308827bc81baedb83919214/81c8e/about-connection-front-back.png 230w","/static/bfd5bf56a308827bc81baedb83919214/9144d/about-connection-front-back.png 401w"],"sizes":"(max-width: 401px) 100vw, 401px","type":"image/png"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/bfd5bf56a308827bc81baedb83919214/9144d/about-connection-front-back.png","alt":"about connection front back","title":"about connection front back","loading":"lazy","decoding":"async","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TIP: When configuring web applications keep browser developer console ALWAYS open, F12 or cmd+shift+I when the browser window is open. Information about configuring cross origin requests is in README of the backend project."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TIP: Developer console has multiple views, most important ones are Console and Network. Exploring the Network tab can give you a lot of information on where messages are being sent and what is received as response!"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"publishing-projects","style":"position:relative;"},"children":[{"type":"text","value":"Publishing projects"},{"type":"element","tagName":"a","properties":{"href":"#publishing-projects","ariaLabel":"publishing projects permalink","className":["anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tagName":"a","properties":{"href":"https://hub.docker.com/","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"https://hub.docker.com/"}]},{"type":"text","value":" to create an account. You can configure Docker hub to build your images for you, but using "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"push"}]},{"type":"text","value":" works as well."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's publish the youtube-dl image. Log in and navigate to your "},{"type":"element","tagName":"a","properties":{"href":"https://hub.docker.com/repositories","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"dashboard"}]},{"type":"text","value":" and press Create Repository. The namespace can be either your personal account or an organization account. For now, let's stick to personal accounts and write something descriptive such as youtube-dl to repository name. We will need to remember it in part 2."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Set visibility to "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And the last thing we need is to authenticate our push by logging in:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ docker login"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next, you will need to rename the image to include your username, and then you can push it:"}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"console"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-console"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-console"]},"children":[{"type":"text","value":"$ docker tag youtube-dl <username>/<repository>\n  ...\n\n$ docker push <username>/<repository>\n  ..."}]}]}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 1.15: Homework"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create Dockerfile for an application or any other dockerised project in any of your own repositories and publish it to Docker Hub. This can be any project, except the clones or forks of backend-example or frontend-example."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For this exercise to be complete you have to provide the link to the project in Docker Hub, make sure you at least have a basic description and instructions for how to run the application in a "},{"type":"element","tagName":"a","properties":{"href":"https://help.github.com/en/articles/about-readmes","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"README"}]},{"type":"text","value":" that's available through your submission."}]}]},{"type":"element","tagName":"exercise","properties":{"name":"Exercise 1.16: Cloud deployment"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is time to wrap up this part and run a containerized app in the cloud."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can take any web-app, eg. an example or exercise from this part, your own app, or even the course material (see "},{"type":"element","tagName":"a","properties":{"href":"https://hub.docker.com/r/devopsdockeruh/coursepage","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"devopsdockeruh/coursepage"}]},{"type":"text","value":") and deploy it to some cloud provider."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are plenty of alternatives, and most provide a free tier. Here are some alternatives that are quite simple to use:"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://fly.io","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"fly.io"}]},{"type":"text","value":" (easy to use but needs a credit card even in the free tier)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://render.com","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"render.com"}]},{"type":"text","value":" (bad documentation, you most likely need google)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://heroku.com","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"heroku.com"}]},{"type":"text","value":" (has a free student plan)"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you know a good cloud service for the purposes of this exercise, please tell us (yes, we know about Amazon AWS, Google Cloud and Azure already... )."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Submit the Dockerfile, a brief description of what you did, and a link to the running app."}]}]}]},"html":"<div><p>As we've already seen it should be possible to containerize almost any project. As we are in between Dev and Ops let's pretend again that some developer teammates of ours did an application with a README that instructs what to install and how to run the application. Now we as the container experts can containerize it in seconds. Open this <a href=\"https://github.com/docker-hy/material-applications/tree/main/rails-example-project\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/docker-hy/material-applications/tree/main/rails-example-project</a> project and read through the README and think about how to transform it into a Dockerfile. Thanks to the README we should be able to decipher what we will need to do even if we have no clue about the language or technology!</p><p>We will need to clone the <a href=\"https://github.com/docker-hy/material-applications\" target=\"_blank\" rel=\"noopener noreferrer\">repository</a>, which you may have already done. After the project is done, let's start with a Dockerfile. We know that we need to install Ruby and whatever dependencies it had. Let's place the Dockerfile in the project root.</p><p><strong>Dockerfile</strong></p><div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># We need ruby 3.1.0. I found this from Docker Hub</span>\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> ruby:3.1.0</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 3000</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /usr/src/app</span></code></pre></div><p>Ok these are the basics, we have FROM a Ruby version, EXPOSE 3000 was told at the bottom of the README and WORKDIR /usr/src/app is the convention.</p><p>The next are told to us by the README. We won't need to copy anything from outside of the container to run these:</p><div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># Install the correct bundler version</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> gem install bundler:2.3.3</span>\n\n<span class=\"token comment\"># Copy the files required for dependencies to be installed</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> Gemfile* ./</span>\n\n<span class=\"token comment\"># Install all dependencies</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> bundle install</span></code></pre></div><p>Here I do a quick trick to separate installing dependencies from the part where we copy the source code in. The COPY will copy both Gemfile and Gemfile.lock to the current directory. This will help us by caching the dependency layers if we ever need to make changes to the source code. The same kind of caching trick works in many other languages or frameworks, such as Node.js.</p><p>And finally, we copy the project and follow the instructions in the README:</p><div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># Copy all of the source code</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n\n<span class=\"token comment\"># We pick the production mode since we have no intention of developing the software inside the container.</span>\n<span class=\"token comment\"># Run database migrations by following instructions from README</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> rails db:migrate RAILS_ENV=production</span>\n\n<span class=\"token comment\"># Precompile assets by following instructions from README</span>\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> rake assets:precompile</span>\n\n<span class=\"token comment\"># And finally the command to run the application</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"rails\"</span>, <span class=\"token string\">\"s\"</span>, <span class=\"token string\">\"-e\"</span>, <span class=\"token string\">\"production\"</span>]</span></code></pre></div><p>Ok. Let's see how well monkeying the README worked for us: <code class=\"language-text\">docker build . -t rails-project &amp;&amp; docker run -p 3000:3000 rails-project</code>. After a while of waiting, the application starts in port 3000 in production mode... unless you have a Mac with M1 or M2 processor.</p><text-box name=\"Building the image with a more recent Mac\" variant=\"hint\"><p>If you have a more recent Mac that has the <a href=\"https://support.apple.com/en-us/HT211814\" target=\"_blank\" rel=\"noopener noreferrer\">M1 or M2</a> processor, building the image fails:</p><div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"> <span class=\"token operator\">=</span><span class=\"token operator\">></span> ERROR <span class=\"token punctuation\">[</span><span class=\"token number\">7</span>/8<span class=\"token punctuation\">]</span> RUN rails db:migrate <span class=\"token assign-left variable\">RAILS_ENV</span><span class=\"token operator\">=</span>production\n------\n <span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">7</span>/8<span class=\"token punctuation\">]</span> RUN rails db:migrate <span class=\"token assign-left variable\">RAILS_ENV</span><span class=\"token operator\">=</span>production:\n<span class=\"token comment\">#11 1.142 rails aborted!</span>\n<span class=\"token comment\">#11 1.142 LoadError: cannot load such file -- nokogiri</span></code></pre></div><div>This can be fixed by changing the following line in the file <i>Gemfile.lock</i></div><div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nokogiri <span class=\"token punctuation\">(</span><span class=\"token number\">1.13</span>.1-x86_64-darwin<span class=\"token punctuation\">)</span></code></pre></div><p>to the form:</p><div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nokogiri <span class=\"token punctuation\">(</span><span class=\"token number\">1.14</span>.2-arm64-darwin<span class=\"token punctuation\">)</span></code></pre></div><div>The reason for the problem is that the file Gemfile.lock that defines the <i>exact</i> versions of the installed libraries (or Gems in Ruby lingo) is generated with a Linux that has an Intel processor. The Gem\n<a href=\"https://nokogiri.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Nokogiri</a> has different versions for Intel and Apple M1/M2 processors and to get the right version of the Gem to a more recent Mac, it is now just easiest to make a change in the file Gemfile.lock.</div></text-box><exercise name=\"Exercise 1.11: Spring\"><p>Create a Dockerfile for an old Java Spring project that can be found from the <a href=\"https://github.com/docker-hy/material-applications/tree/main/spring-example-project\" target=\"_blank\" rel=\"noopener noreferrer\">course repository</a>.</p><p>The setup should be straightforward with the README instructions. Tips to get you started:</p><p>Use <a href=\"https://hub.docker.com/_/openjdk\" target=\"_blank\" rel=\"noopener noreferrer\">openjdk image</a> <code class=\"language-text\">FROM openjdk:_tag_</code> to get Java instead of installing it manually. Pick the tag by using the README and Docker Hub page.</p><p>You've completed the exercise when you see a 'Success' message in your browser.</p><p>Submit the Dockerfile you used to run the container.</p></exercise><p>The following three exercises will start a larger project that we will configure in parts 2 and 3. They will require you to use everything you've learned up until now. If you need to modify a Dockerfile in some later exercises, feel free to do it on top of the Dockerfiles you create here.</p><exercise name=\"Exercise 1.12: Hello, frontend!\"><div><b style=\"color:firebrick;\">This exercise is mandatory</b></div><p>A good developer creates well-written READMEs. Such that they can be used to create Dockerfiles with ease.</p><p>Clone, fork or download the project from\n<a href=\"https://github.com/docker-hy/material-applications/tree/main/example-frontend\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/docker-hy/material-applications/tree/main/example-frontend</a>.</p><p>Create a Dockerfile for the project (example-frontend) and give a command so that the project runs in a Docker container with port 5000\nexposed and published so when you start the container and navigate to <a href=\"http://localhost:5000\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:5000</a>\nyou will see message if you're successful.</p><ul>\n<li>note that the port 5000 is reserved in the more recent OSX versions (Monterey, Big Sur), so you have to use some other host port</li>\n</ul><p>Submit the Dockerfile.</p><p><em>As in other exercises, do not alter the code of the project</em></p><ul>\n<li>\n<p>TIP: The project has install instructions in README.</p>\n</li>\n<li>\n<p>TIP: Note that the app starts to accept connections when \"Accepting connections at <a href=\"http://localhost:5000\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:5000</a>\" has been printed to the screen, this takes a few seconds</p>\n</li>\n<li>\n<p>TIP: You do not have to install anything new outside containers.</p>\n</li>\n</ul></exercise><exercise name=\"Exercise 1.13: Hello, backend!\"><div><b style=\"color:firebrick;\">This exercise is mandatory</b></div><p>Clone, fork or download a project from\n<a href=\"https://github.com/docker-hy/material-applications/tree/main/example-backend\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/docker-hy/material-applications/tree/main/example-backend</a>.</p><p>Create a Dockerfile for the project (example-backend). Start the container with port 8080 published.</p><p>When you start the container and navigate to <a href=\"http://localhost:8080/ping\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:8080/ping</a> you should get a \"pong\" as response.</p><p>Submit the Dockerfile and the command used.</p><p><em>Do not alter the code of the project</em></p></exercise><exercise name=\"Exercise 1.14: Environment\"><div><b style=\"color:firebrick;\">This exercise is mandatory</b></div><p>Start both frontend-example and backend-example with correct ports exposed and add ENV to Dockerfile with necessary\ninformation from both READMEs\n(<a href=\"https://github.com/docker-hy/material-applications/tree/main/example-frontend\" target=\"_blank\" rel=\"noopener noreferrer\">front</a>, <a href=\"https://github.com/docker-hy/material-applications/tree/main/example-backend\" target=\"_blank\" rel=\"noopener noreferrer\">back</a>).</p><p>Ignore the backend configurations until frontend sends requests to <code class=\"language-text\">_backend_url_/ping</code> when you press the button.</p><p>You know that the configuration is ready when the button for 1.14 of frontend-example responds and turns green.</p><p><em>Do not alter the code of either project</em></p><p>Submit the edited Dockerfiles and commands used to run.</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 386px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/10822d585cb1b30aca4211724b49de12/7bc0b/back-and-front.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.52173913043478%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVQoz01Ry6sScRj9LrcWXSNsexfFLCobiNy0LLpMi/6BNj241Ko/oEIXtgilZQbZSjcigoquFDcuBkVnfICvcRwfM75mxkFHFzkqFx1/8ROCPjicw4Fzvg8+SCQSr6PR6IPdbgdOp/NUEIT7k8nEruu6XdO0xwzDnLlcrtPlcgn1ev1SVVWkquqVqqomxnQ6NRVFMXVdN1utlgkAcAsAzgDght1ut9A07S6Xy7/z+fz3TCbzzeFwnFutVgtCCJLJ5BfDMNBoNEKNRgM1m01Ur9ePWK1WSJIkBARBWCiKug4AVpvNhsshHo+TpVLpg6Io71Op1BOCIG7iQpqmX8myrBmGwc1mM2GxWAiY5/O5sN1uhWq1KkClUvnFsuxLHACAE8z5fP5OrVZ7J0nSm3Q6TWAPw+123/Z6vY+CweDDcDhMBoNBEnMoFCL9fj/p8XhIKBQKdxmGseJAJBJ52mg0fvA8/1UUxU/FYvFzp9Nxtdvtnz6f714sFvuo6zra7/d/9vv92jTNNeZ/muf5NeRyOQgEAscLyuXyea/Xu5Ak6Zksyxe9Xu851v1+/wVFUdd4nr/cbrdos9mYg8EAPwcpioI0TUN4sAccx50kEoljIcuy0O12QRRFkGUZOp0OSJIE4/H4uJhhmLccx+GSq+FwePgfiqIcstns4S94234WmHvPyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/10822d585cb1b30aca4211724b49de12/a0b58/back-and-front.webp 230w,\n/static/10822d585cb1b30aca4211724b49de12/23cef/back-and-front.webp 386w\" sizes=\"(max-width: 386px) 100vw, 386px\" type=\"image/webp\">\n          <source srcset=\"/static/10822d585cb1b30aca4211724b49de12/81c8e/back-and-front.png 230w,\n/static/10822d585cb1b30aca4211724b49de12/7bc0b/back-and-front.png 386w\" sizes=\"(max-width: 386px) 100vw, 386px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/10822d585cb1b30aca4211724b49de12/7bc0b/back-and-front.png\" alt=\"back and front\" title=\"back and front\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span><p>The frontend will first talk to your browser. Then the code will be executed from your browser and that will send a message to backend.</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 401px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/bfd5bf56a308827bc81baedb83919214/9144d/about-connection-front-back.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 52.60869565217391%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABg0lEQVQoz32TV4sCQRCE9///Gt8Mr4oiGFgUc84551TH1zLioXcNzczOzFZVV8946/Vas9lM3W5XnU5Hk8lEy+VSi8XCxvF4rFarZfv9fl/NZlPlcln1el2VSkW1Wk3tdlvz+VyBQECeJF0uF9soFovabrd6j9PpZGuPx0Pn89nAo9Go0um0YrGYMpmMkRLBYPAJ+C0AIPb7vY7Ho803m40KhYIpQ2G1WjWS3W5n+5FIRB7q+OE9r9erAcKM6kQiYUC9Xs+AKJnM5/NWgSMMh8PyUHA4HGzRjXg1HA7NRzxrNBqmZDAYGChKsQH/AcS/FyATGoECgIjVamVloJK96XRqpd/vd8vb7WZVMCLC+R4KheRxAPZ3r0ajkXWc7vm+r1QqZUohyuVyKpVK5iN2UAX5Uoh8V4IrwzHiL1cKlZABEo/HlUwmlc1mrcOsI+ZXyf91GY8oy1nBNwIgQRnnPgBZ/JaEa5QDBwyLmDsyHsAH4F8KAeP6uNdDg1Dn0n1zjqb8AN3nPiDCOYdNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/bfd5bf56a308827bc81baedb83919214/a0b58/about-connection-front-back.webp 230w,\n/static/bfd5bf56a308827bc81baedb83919214/b3c31/about-connection-front-back.webp 401w\" sizes=\"(max-width: 401px) 100vw, 401px\" type=\"image/webp\">\n          <source srcset=\"/static/bfd5bf56a308827bc81baedb83919214/81c8e/about-connection-front-back.png 230w,\n/static/bfd5bf56a308827bc81baedb83919214/9144d/about-connection-front-back.png 401w\" sizes=\"(max-width: 401px) 100vw, 401px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/bfd5bf56a308827bc81baedb83919214/9144d/about-connection-front-back.png\" alt=\"about connection front back\" title=\"about connection front back\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span><ul>\n<li>\n<p>TIP: When configuring web applications keep browser developer console ALWAYS open, F12 or cmd+shift+I when the browser window is open. Information about configuring cross origin requests is in README of the backend project.</p>\n</li>\n<li>\n<p>TIP: Developer console has multiple views, most important ones are Console and Network. Exploring the Network tab can give you a lot of information on where messages are being sent and what is received as response!</p>\n</li>\n</ul></exercise><h1 id=\"publishing-projects\" style=\"position:relative;\">Publishing projects<a href=\"#publishing-projects\" aria-label=\"publishing projects permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1><p>Go to <a href=\"https://hub.docker.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://hub.docker.com/</a> to create an account. You can configure Docker hub to build your images for you, but using <code class=\"language-text\">push</code> works as well.</p><p>Let's publish the youtube-dl image. Log in and navigate to your <a href=\"https://hub.docker.com/repositories\" target=\"_blank\" rel=\"noopener noreferrer\">dashboard</a> and press Create Repository. The namespace can be either your personal account or an organization account. For now, let's stick to personal accounts and write something descriptive such as youtube-dl to repository name. We will need to remember it in part 2.</p><p>Set visibility to <em>public</em>.</p><p>And the last thing we need is to authenticate our push by logging in:</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ docker login</code></pre></div><p>Next, you will need to rename the image to include your username, and then you can push it:</p><div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ docker tag youtube-dl &lt;username&gt;/&lt;repository&gt;\n  ...\n\n$ docker push &lt;username&gt;/&lt;repository&gt;\n  ...</code></pre></div><exercise name=\"Exercise 1.15: Homework\"><p>Create Dockerfile for an application or any other dockerised project in any of your own repositories and publish it to Docker Hub. This can be any project, except the clones or forks of backend-example or frontend-example.</p><p>For this exercise to be complete you have to provide the link to the project in Docker Hub, make sure you at least have a basic description and instructions for how to run the application in a <a href=\"https://help.github.com/en/articles/about-readmes\" target=\"_blank\" rel=\"noopener noreferrer\">README</a> that's available through your submission.</p></exercise><exercise name=\"Exercise 1.16: Cloud deployment\"><p>It is time to wrap up this part and run a containerized app in the cloud.</p><p>You can take any web-app, eg. an example or exercise from this part, your own app, or even the course material (see <a href=\"https://hub.docker.com/r/devopsdockeruh/coursepage\" target=\"_blank\" rel=\"noopener noreferrer\">devopsdockeruh/coursepage</a>) and deploy it to some cloud provider.</p><p>There are plenty of alternatives, and most provide a free tier. Here are some alternatives that are quite simple to use:</p><ul>\n<li><a href=\"https://fly.io\" target=\"_blank\" rel=\"noopener noreferrer\">fly.io</a> (easy to use but needs a credit card even in the free tier)</li>\n<li><a href=\"https://render.com\" target=\"_blank\" rel=\"noopener noreferrer\">render.com</a> (bad documentation, you most likely need google)</li>\n<li><a href=\"https://heroku.com\" target=\"_blank\" rel=\"noopener noreferrer\">heroku.com</a> (has a free student plan)</li>\n</ul><p>If you know a good cloud service for the purposes of this exercise, please tell us (yes, we know about Amazon AWS, Google Cloud and Azure already... ).</p><p>Submit the Dockerfile, a brief description of what you did, and a link to the running app.</p></exercise></div>","frontmatter":{"path":"/part-1/6-docker-hub","title":"Utilizing tools from the Registry"},"fileAbsolutePath":"/home/runner/work/docker-hy.github.io/docker-hy.github.io/data/part-1/section-6.md"},"allPages":{"edges":[{"node":{"id":"4352ae37-1cc5-5973-956b-aa3c8cc1a438","frontmatter":{"path":"/faq","title":"Frequently asked questions"}}},{"node":{"id":"e1238e90-e69f-5b89-ae7f-7a3890359b73","frontmatter":{"path":"/frontmatter-guide","title":"Frontmatter-guide"}}},{"node":{"id":"3cb91679-41d9-585e-8746-8d7f0fbc121a","frontmatter":{"path":"/getting-started","title":"Getting started"}}},{"node":{"id":"cc180895-565d-5264-95c9-d15f066c38c3","frontmatter":{"path":"/","title":"About this course"}}},{"node":{"id":"6c9405c1-39a6-56b2-934e-33850f881070","frontmatter":{"path":"/part-1","title":"Part 1"}}},{"node":{"id":"c5438964-0c78-52f9-b28f-f73711d88666","frontmatter":{"path":"/part-1/1-getting-started","title":"Definitions and basic concepts"}}},{"node":{"id":"a8076827-affa-555a-b777-dba87c8e257f","frontmatter":{"path":"/part-1/2-running-and-stopping","title":"Running and stopping containers"}}},{"node":{"id":"d1d17462-978a-5516-8207-0fff56d3d301","frontmatter":{"path":"/part-1/3-in-depth-dive-to-images","title":"In-depth dive to images"}}},{"node":{"id":"b86409c3-2663-57ce-9a34-5ba818f8c6f7","frontmatter":{"path":"/part-1/4-defining-start-conditions","title":"Defining start conditions for the container"}}},{"node":{"id":"f0602d39-4b70-5d33-81a1-44c74bc6a963","frontmatter":{"path":"/part-1/5-volumes-and-ports","title":"Interacting with the container via volumes and ports"}}},{"node":{"id":"eb754b3f-0629-5970-a322-6a4dc4564d67","frontmatter":{"path":"/part-1/6-docker-hub","title":"Utilizing tools from the Registry"}}},{"node":{"id":"d1c71e59-47d3-54fd-a486-383c8377fe36","frontmatter":{"path":"/part-1/7-summary","title":"Summary"}}},{"node":{"id":"0c108910-d460-5d9b-8099-772363806cd1","frontmatter":{"path":"/part-2","title":"Part 2"}}},{"node":{"id":"5ecd7aff-3a9d-5952-a0e4-50e15971e6be","frontmatter":{"path":"/part-2/1-migrating-to-docker-compose","title":"Migrating to Docker Compose"}}},{"node":{"id":"4007819b-0805-5da6-bf6a-99ded7c679ba","frontmatter":{"path":"/part-2/2-docker-networking","title":"Docker networking"}}},{"node":{"id":"663340ff-6dff-50cc-9bb2-25940e07ee07","frontmatter":{"path":"/part-2/3-volumes-in-action","title":"Volumes in action"}}},{"node":{"id":"fccc6c0d-db88-5605-9dcf-032a5afa0c28","frontmatter":{"path":"/part-2/4-containers-in-development","title":"Containers in development"}}},{"node":{"id":"d765d5bb-ef50-576a-8818-9938b2930e71","frontmatter":{"path":"/part-2/5-summary","title":"Summary"}}},{"node":{"id":"562b2219-bfee-5004-b19d-67666caa20c1","frontmatter":{"path":"/part-3","title":"Part 3"}}},{"node":{"id":"a43415c2-1067-541e-83ce-30fbd4938a64","frontmatter":{"path":"/part-3/1-deeper-understainding-of-containers","title":"Deeper understanding of containers"}}},{"node":{"id":"f13c2ceb-97e3-50e6-9153-9fd8c7b4eb5a","frontmatter":{"path":"/part-3/2-deployment-pipelines","title":"Deployment pipelines"}}},{"node":{"id":"baa5a147-830d-5a73-b883-2eef8b123a54","frontmatter":{"path":"/part-3/3-using-non-root-user","title":"Using a non-root user"}}},{"node":{"id":"b172f390-4ffa-568d-99e8-737985f35a70","frontmatter":{"path":"/part-3/4-optimizing-the-image-size","title":"Optimizing the image size"}}},{"node":{"id":"76657527-40ce-5179-88b3-0df3d0ae2ab9","frontmatter":{"path":"/part-3/5-multi-host-environments","title":"Multi-host environments"}}},{"node":{"id":"3405a024-ea45-5fd0-8004-ec8726591ee1","frontmatter":{"path":"/part-3/6-end","title":"End"}}},{"node":{"id":"0601dd7a-78da-53bb-9402-15fadc681ddc","frontmatter":{"path":"/links","title":"Links"}}}]}},"pageContext":{}},
    "staticQueryHashes": ["3294351120","994120085"]}